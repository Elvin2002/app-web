<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Feliz San Valentin =)</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Courier New', Courier, monospace; overflow: hidden; background: #000; height: 100vh; height: 100svh; color: #0f0; }

        /* TERMINAL DE HACKING */
        #hacker-terminal {
            position: fixed; inset: 0; background: #000; padding: 20px;
            display: flex; flex-direction: column; z-index: 5000; transition: 1s;
        }
        #hacker-terminal.access-granted { opacity: 0; transform: scale(1.1); pointer-events: none; }
        .term-line { margin-bottom: 5px; line-height: 1.2; font-size: 14px; word-break: break-all; }
        .prompt { color: #55ff55; font-weight: bold; }
        #user-input { background: transparent; border: none; color: #0f0; outline: none; width: 60%; font-family: inherit; font-size: 16px; }

        /* FONDO OPTIMIZADO */
        .bg-main { 
            position: fixed; 
            inset: 0;
            background: url('foto.jpg') center center / contain no-repeat; 
            z-index: 1; 
            opacity: 0; 
            transition: 3s;
            width: 95%;
            height: 85%;
            margin: auto;
        }

        .visible-bg { opacity: 1; }

        #matrix-canvas { 
            position: fixed; 
            top: 0; left: 0; 
            width: 100%; height: 100%; 
            z-index: 2; 
            pointer-events: none; 
            opacity: 0.25; 
        }

        /* CONTENEDOR PRINCIPAL */
        .container { position: relative; width: 100%; height: 100%; z-index: 10; display: flex; flex-direction: column; justify-content: flex-end; align-items: center; padding-bottom: 80px; opacity: 0; transition: 1s; }
        .container.visible { opacity: 1; }
        .cloud { background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(10px); border: 1px solid #0f0; padding: 20px; border-radius: 15px; width: 90%; max-width: 380px; text-align: center; box-shadow: 0 0 20px rgba(0, 255, 0, 0.2); }

        /* BOTONES */
        .btn-recuerdos, .btn-exit { margin-top: 10px; padding: 12px 20px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-family: inherit; font-size: 0.9rem; width: 100%; transition: 0.3s; }
        .btn-recuerdos { background: #0f0; color: #000; }
        .btn-exit { background: transparent; color: #f00; border: 1px solid #f00; }
        .btn-exit:hover { background: #f00; color: #000; }
        
        .nav-btn { background: rgba(0, 255, 0, 0.1); border: 1px solid #0f0; color: #0f0; padding: 15px; cursor: pointer; min-width: 80px; font-weight: bold; }

        /* MODAL CARRUSEL */
        .carousel-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 6000; display: none; justify-content: center; align-items: center; }
        .carousel-container { position: relative; width: 95%; max-width: 500px; height: 80vh; display: flex; flex-direction: column; justify-content: center; }
        .carousel-slide { width: 100%; height: 60vh; display: none; background: center center / contain no-repeat; border: 1px solid #0f0; position: relative; background-color: #000; }
        .carousel-slide.active { display: block; }
        .slide-caption { position: absolute; bottom: 0; left: 0; width: 100%; background: rgba(0, 30, 0, 0.9); color: #0f0; padding: 12px; font-size: 0.85rem; text-align: center; border-top: 1px solid #0f0; }

        /* PANTALLA FINAL MR ROBOT */
        #final-screen {
            position: fixed; inset: 0; background: #000; z-index: 9000;
            display: none; flex-direction: column; justify-content: center;
            align-items: center; text-align: center; padding: 20px;
        }
        .glitch-text { color: #f00; font-size: 1.5rem; text-transform: uppercase; letter-spacing: 5px; animation: glitch 0.3s infinite; }
        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
            100% { transform: translate(0); }
        }

        .music-btn { position: fixed; bottom: 20px; right: 20px; z-index: 7000; background: rgba(0,0,0,0.8); border: 1px solid #0f0; border-radius: 50%; width: 50px; height: 50px; color: #0f0; display: flex; justify-content: center; align-items: center; font-size: 20px; }
    </style>
</head>
<body onclick="focusInput()">

    <audio id="miMusica" loop><source src="musica.mp3" type="audio/mpeg"></audio>

    <div id="hacker-terminal">
        <div id="terminal-content">
            <div class="term-line">Initializing Matrix v6.0 [Xiaomi Optimized]...</div>
            <div class="term-line">Escribe <span style="color:white">'bypass'</span> para entrar.</div>
        </div>
        <div class="term-line">
            <span class="prompt">guest@xiaomi:~$</span>
            <input type="text" id="user-input" autofocus onkeydown="handleCommand(event)" inputmode="text">
        </div>
    </div>

    <div id="bgMain" class="bg-main"></div>
    <canvas id="matrix-canvas"></canvas>

    <div class="container" id="mainContainer">
        <div class="cloud">
            <div id="messageText" style="color: #0f0; font-weight: bold; font-size: 0.9rem; margin-bottom: 10px;">ROOT@CORAZON:~# ACCESS_GRANTED</div>
            <button class="btn-recuerdos" onclick="showCarousel()">游늭 ABRIR ARCHIVOS</button>
            <button class="btn-exit" onclick="closeConnection()">丘멆잺 CERRAR CONEXI칍N</button>
        </div>
    </div>

    <div id="final-screen">
        <div class="glitch-text" id="final-msg"></div>
        <div id="att" style="color: #555; margin-top: 30px; font-size: 0.8rem; display: none;"></div>
    </div>

    <div class="carousel-modal" id="carouselModal">
        <span onclick="closeCarousel()" style="position:absolute; top:20px; right:25px; font-size:45px; color:#0f0; z-index: 100;">&times;</span>
        <div class="carousel-container">
            <div class="carousel-slide active" style="background-image: url('foto1.jpeg');"><div class="slide-caption">Recuerdo 01: Donde todo comenz칩.</div></div>
            <div class="carousel-slide" style="background-image: url('foto2.jpeg');"><div class="slide-caption">Recuerdo 02: Analizando datos de tu sonrisa.</div></div>
            <div class="carousel-slide" style="background-image: url('foto3.jpeg');"><div class="slide-caption">Recuerdo 03: Acceso al n칰cleo del coraz칩n.</div></div>
            <div class="carousel-slide" style="background-image: url('foto4.jpeg');"><div class="slide-caption">Recuerdo 04: Encriptando momentos inolvidables.</div></div>
            <div class="carousel-slide" style="background-image: url('foto5.jpeg');"><div class="slide-caption">Recuerdo 05: Error 404: No te puedo olvidar.</div></div>
            <div class="carousel-slide" style="background-image: url('foto6.jpeg');"><div class="slide-caption">Recuerdo 06: Compilando felicidad a tu lado.</div></div>
            <div class="carousel-slide" style="background-image: url('foto7.jpeg');"><div class="slide-caption">Recuerdo 07: Backup de cada mirada.</div></div>
            <div class="carousel-slide" style="background-image: url('foto8.jpeg');"><div class="slide-caption">Recuerdo 08: Sincronizando nuestras vidas.</div></div>
            <div class="carousel-slide" style="background-image: url('foto9.jpeg');"><div class="slide-caption">Recuerdo 09: Eres el c칩digo m치s perfecto.</div></div>
            <div class="carousel-slide" style="background-image: url('foto10.jpeg');"><div class="slide-caption">Recuerdo 10: Procesando amor infinito.</div></div>
            <div class="carousel-slide" style="background-image: url('foto11.jpeg');"><div class="slide-caption">Recuerdo 11: Fin de l칤nea; siempre contigo.</div></div>

            <div style="display:flex; justify-content: space-between; margin-top:20px;">
                <button class="nav-btn" onclick="manualChange(-1)">ATR츼S</button>
                <button class="nav-btn" onclick="manualChange(1)">SIG.</button>
            </div>
        </div>
    </div>

    <div class="music-btn" onclick="togglePlay()">游꿧</div>

    <script>
        const terminal = document.getElementById('terminal-content');
        const userInput = document.getElementById('user-input');
        const audio = document.getElementById('miMusica');
        let autoSlideInterval;
        
        function focusInput() { userInput.focus(); }

        function handleCommand(e) {
            if (e.key === 'Enter') {
                const cmd = userInput.value.toLowerCase().trim();
                printTerminal(`guest@xiaomi:~$ ${cmd}`, "#55ff55");
                userInput.value = "";
                if (cmd === 'bypass') startBruteForce();
                else if (cmd === 'ls') printTerminal("recuerdos.db, kernel_love.sys");
                else if (cmd === 'clear') terminal.innerHTML = "";
                else printTerminal(`Error: Command '${cmd}' not found.`);
            }
        }

        function printTerminal(text, color = "#0f0") {
            const div = document.createElement('div');
            div.className = 'term-line';
            div.style.color = color;
            div.innerText = text;
            terminal.appendChild(div);
            window.scrollTo(0, document.body.scrollHeight);
        }

        function startBruteForce() {
            let p = 0;
            const int = setInterval(() => {
                p += 20;
                printTerminal(`Injectando payload... ${p}%`);
                if (p >= 100) { clearInterval(int); grantAccess(); }
            }, 100);
        }

        function grantAccess() {
            document.getElementById('hacker-terminal').classList.add('access-granted');
            document.getElementById('mainContainer').classList.add('visible');
            document.getElementById('bgMain').classList.add('visible-bg');
            audio.play().catch(() => {});
            setInterval(drawMatrix, 50);
        }

        function closeConnection() {
            const fs = document.getElementById('final-screen');
            const msg = document.getElementById('final-msg');
            const att = document.getElementById('att');
            fs.style.display = 'flex';
            
            setTimeout(() => { msg.innerText = "SSH CONNECTION CLOSED..."; }, 500);
            setTimeout(() => { msg.innerText = "ERASING LOGS..."; }, 1500);
            setTimeout(() => { 
                msg.classList.add('glitch-text');
                msg.innerText = "CORAZ칍N HACKEADO"; 
                att.style.display = 'block';
                att.innerText = "att: Elvin MV";
            }, 3000);
        }

        /* --- LOGICA CARRUSEL --- */
        let slideIndex = 0;
        function showCarousel() { document.getElementById('carouselModal').style.display = 'flex'; startAutoSlide(); }
        function closeCarousel() { document.getElementById('carouselModal').style.display = 'none'; stopAutoSlide(); }
        function changeSlide(n) {
            const slides = document.querySelectorAll('.carousel-slide');
            slides[slideIndex].classList.remove('active');
            slideIndex = (slideIndex + n + slides.length) % slides.length;
            slides[slideIndex].classList.add('active');
        }
        function manualChange(n) { changeSlide(n); stopAutoSlide(); startAutoSlide(); }
        function startAutoSlide() { autoSlideInterval = setInterval(() => changeSlide(1), 4000); }
        function stopAutoSlide() { clearInterval(autoSlideInterval); }

        /* --- MATRIX --- */
        const canvas = document.getElementById('matrix-canvas');
        const ctx = canvas.getContext('2d');
        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        window.addEventListener('resize', resize);
        resize();
        const drops = Array(Math.floor(canvas.width / 16)).fill(1);
        function drawMatrix() {
            ctx.fillStyle = "rgba(0, 0, 0, 0.05)"; ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "#0f0"; ctx.font = "16px monospace";
            drops.forEach((y, i) => {
                ctx.fillText(Math.random() > 0.5 ? "1" : "0", i * 16, y * 16);
                if (y * 16 > canvas.height && Math.random() > 0.98) drops[i] = 0;
                drops[i]++;
            });
        }

        function togglePlay() { audio.paused ? audio.play() : audio.pause(); }
    </script>
</body>
</html>